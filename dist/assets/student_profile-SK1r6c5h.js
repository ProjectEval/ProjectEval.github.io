import{j as e,r as A,g as L,D as z,q as H,E as O,v as X,c as q,R as Z}from"./auth-suFFnFMY.js";import{B as _}from"./back_arrow-IdcwQJqZ.js";function y({answer:t,comment:s,cardColor:a}){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"FreeResponseSubmissionCard",style:{backgroundColor:a},children:[e.jsxs("h2",{children:["Answer: ",t]}),e.jsxs("h3",{children:["Comment: ",s]})]})})}function $({answer:t,comment:s,max:a,cardColor:r}){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"RangeSubmissionCard",style:{backgroundColor:r},children:[e.jsxs("h2",{children:["Answer: ",t," out of ",a]}),e.jsxs("h3",{children:["Comment: ",s]})]})})}const ee="data:image/png;base64,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",se="data:image/png;base64,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";function te({average:t,cardColor:s}){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"RangeOverviewCard",style:{backgroundColor:s},children:[e.jsx("h2",{children:"Answers Overview"}),e.jsxs("h2",{children:["Average: ",e.jsx("span",{className:"Average",children:t})]})]})})}function Ae({choices:t,cardColor:s}){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"MultiChoiceOverview",style:{backgroundColor:s},children:[e.jsx("h2",{children:"Answers Overview"}),e.jsx("h2",{children:"Choices:"}),e.jsx("ul",{children:t.map(a=>e.jsxs("li",{children:[a.choice,": ",a.count]}))})]})})}function re({question:t,submissions:s,cardColor:a}){const[r,C]=A.useState(0),[v,N]=A.useState(0),[j,g]=A.useState([]),[w,x]=A.useState(!1);return A.useEffect(()=>{if(t.Answer.Type=="Range"){let n=0;s.forEach(i=>{n+=i.value}),N(Math.round(n/s.length))}else if(t.Answer.Type=="MultiChoice"){const n=new Map;s.forEach(o=>{n.has(o.value)?n.set(o.value,n.get(o.value)+1):n.set(o.value,1)});const i=[];n.forEach((o,h)=>{i.push({choice:h,count:o})}),g(i)}else if(t.Answer.Type=="MultiSelect"){const n=new Map;s.forEach(o=>{o.value.split(",").forEach(d=>{n.has(d)?n.set(d,n.get(d)+1):n.set(d,1)})});const i=[];n.forEach((o,h)=>{i.push({choice:h,count:o})}),g(i)}else t.Answer.Type=="FreeResponse"&&x(!0)},[]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"QuestionCard",children:[e.jsx("h2",{children:t.Question}),t.Answer.Type!="Range"&&t.Answer.Type!="FreeResponse"?(t.Answer.Type=="MultiChoice"||t.Answer.Type=="MultiSelect")&&r==0?e.jsx(Ae,{choices:j,cardColor:a}):e.jsx(y,{cardColor:a,answer:s[r-1].value.toString(),comment:s[r-1].comment}):t.Answer.Type=="Range"?r==0?e.jsx(te,{cardColor:a,average:v}):e.jsx($,{cardColor:a,answer:s[r-1].value.toString(),comment:s[r-1].comment,max:t.Answer.Max}):e.jsx(y,{cardColor:a,answer:s[r].value.toString(),comment:s[r].comment}),e.jsxs("div",{className:"Controls",children:[e.jsx("img",{src:ee,alt:"Past Submission",className:"LeftSubmission "+(r==0?"Disabled":""),onClick:()=>{r>0&&C(r-1)}}),e.jsx("img",{src:se,alt:"Next Submission",className:"RightSubmission "+(r==(w?s.length-1:s.length)?"Disabled":""),onClick:()=>{r<(w?s.length-1:s.length)&&C(r+1)}})]})]})})}function ne(){const[t,s]=A.useState(""),[a,r]=A.useState(""),[C,v]=A.useState(""),[N,j]=A.useState(""),[g,w]=A.useState(),[x,n]=A.useState(!1),[i,o]=A.useState([]),[h,d]=A.useState([]),[T,P]=A.useState([]),[J,b]=A.useState(""),[M,U]=A.useState(""),[K,W]=A.useState(""),[V,Y]=A.useState("");return A.useEffect(()=>{async function c(){const D=window.location.search,l=new URLSearchParams(D);if(!l.has("projectId"))throw Error("missing project id!");if(!l.has("studentId"))throw Error("missing student id!");if(!l.has("classId"))throw Error("missing class id!");const m=l.get("projectId"),S=l.get("classId"),Q=l.get("studentId");l.has("groupId")&&Y(l.get("groupId")),v(m),j(S),s(l.get("studentId"));const I=await L();if(!I)throw Error("missing user id!");r(I);const F=await z(Q);w(F),F.id==I&&n(!0);const B=await H(S,m);U(B.evalBackgroundColor),W(B.cardColor),b(B.background);const f=await O(S,m,Q);if(o(f),f.length==0)return;console.log(f);const p=await X(S,m);d(p);const E=[];for(let u=0;u<p.length;u++){const G=p[u],k=[];f.forEach(R=>{k.push({id:R.submission[u].id,value:R.submission[u].value,comment:R.submission[u].comment})}),E.push({question:G,submissions:k})}P(E),console.log(E)}c()},[]),e.jsx(e.Fragment,{children:g!=null?e.jsxs("div",{className:"Center "+J,style:{backgroundColor:M},children:[e.jsx("h2",{className:"Title",children:x?"Your Profile":g.name+"'s Profile"}),e.jsx("img",{src:_,alt:"back",className:"BackArrow",onClick:()=>{const c=new URL(window.location.href);c.searchParams.delete("studentId"),V!=""?window.location.href=c.origin+"/Group/"+c.search:window.location.href=c.origin+"/Project/"+c.search}}),e.jsx("div",{className:"Results",children:i.length>0?T.map(c=>e.jsx(re,{question:c.question,submissions:c.submissions,cardColor:K})):e.jsx("h3",{children:"No Evaluations Yet!"})})]}):null})}async function ae(){await L()||(window.location.href=window.location.origin+"/Login/")}(async()=>await ae())();q.createRoot(document.getElementById("root")).render(e.jsx(Z.StrictMode,{children:e.jsx(ne,{})}));
