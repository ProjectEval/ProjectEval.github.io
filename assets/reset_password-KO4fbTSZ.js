import{r as o,j as s,S as k,c as E,R as v,g as M}from"./auth-x3Nz2WY_.js";import{B as N}from"./back_arrow-IdcwQJqZ.js";import{I as T}from"./info_dialog-csbS-ued.js";function B(){const[r,w]=o.useState(""),[c,u]=o.useState(""),[h,m]=o.useState(""),[f,d]=o.useState(!1),i=o.useRef(null),[g,P]=o.useState(""),[x,j]=o.useState(""),[b,C]=o.useState(()=>{}),[R,p]=o.useState("Hex");o.useEffect(()=>{const e=["RedPolygon","FieryPolygon","Hex"],n=Math.floor(Math.random()*e.length);p(e[n]);const t=window.location.search,l=new URLSearchParams(t);if(!l.has("oobCode"))throw Error("missing oob code!");const S=l.get("oobCode");m(S)},[]);const a=(e,n)=>{var t;d(!1),P(e),j(n),C(b),(t=i.current)==null||t.showModal()},y=async()=>{if(r!=c){a("Passwords do not match!","Passwords do not match!");return}d(!0),await k(h,r,a),a("Password Reset!","Password Reset!")};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"Center "+R,children:[s.jsx("h2",{className:"Title",children:"Forgot Password"}),s.jsx("img",{src:N,alt:"back",className:"BackArrow",onClick:()=>{window.location.href="/Login/"}}),s.jsx("label",{htmlFor:"newPassowrd",children:"New Password "}),s.jsx("input",{type:"password",id:"newPassowrd",value:r,onChange:e=>{w(e.target.value)}}),s.jsx("br",{}),s.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password "}),s.jsx("input",{type:"password",id:"confirmPassword",value:c,onChange:e=>{u(e.target.value)}}),s.jsx("br",{}),f?s.jsx("div",{className:"Loading"}):s.jsx("button",{onClick:y,children:"Reset Password"}),s.jsx("br",{})]}),s.jsx(T,{info:g,Title:x,infoModalRef:i,onClose:()=>{window.location.href="/Login/"}})]})}async function F(){await M()&&(window.location.href=window.location.origin+"/Dashboard/")}(async()=>await F())();E.createRoot(document.getElementById("root")).render(s.jsx(v.StrictMode,{children:s.jsx(B,{})}));
