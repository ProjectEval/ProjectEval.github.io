import{r as o,j as s,K as p,c as R,R as E,g as S}from"./auth-OIc4apUQ.js";import{B as y}from"./back_arrow-IdcwQJqZ.js";import{E as k}from"./error_dialog-qsErQp_K.js";function v(){const[r,l]=o.useState(""),[c,w]=o.useState(""),[u,m]=o.useState(""),[h,i]=o.useState(!1),d=o.useRef(null),[f,P]=o.useState(""),[g,x]=o.useState(""),[j,C]=o.useState(()=>{});o.useEffect(()=>{const e=window.location.search,t=new URLSearchParams(e);if(!t.has("oobCode"))throw Error("missing oob code!");const a=t.get("oobCode");m(a)},[]);const n=(e,t)=>{var a;i(!1),P(e),x(t),C(j),(a=d.current)==null||a.showModal()},b=async()=>{if(r!=c){n("Passwords do not match!","Passwords do not match!");return}i(!0),await p(u,r,n),n("Password Reset!","Password Reset!")};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"Center",children:[s.jsx("h2",{className:"Title",children:"Forgot Password"}),s.jsx("img",{src:y,alt:"back",className:"BackArrow",onClick:()=>{window.location.href="/Login/"}}),s.jsx("label",{htmlFor:"newPassowrd",children:"New Password "}),s.jsx("input",{type:"password",id:"newPassowrd",value:r,onChange:e=>{l(e.target.value)}}),s.jsx("br",{}),s.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password "}),s.jsx("input",{type:"password",id:"confirmPassword",value:c,onChange:e=>{w(e.target.value)}}),s.jsx("br",{}),h?s.jsx("div",{className:"Loading"}):s.jsx("button",{onClick:b,children:"Reset Password"}),s.jsx("br",{})]}),s.jsx(k,{error:f,errorTitle:g,errorModalRef:d,onClose:()=>{window.location.href="/Login/"}})]})}async function N(){await S()&&(window.location.href=window.location.origin+"/Dashboard/")}(async()=>await N())();R.createRoot(document.getElementById("root")).render(s.jsx(E.StrictMode,{children:s.jsx(v,{})}));
